<div class="unmatched-span-card">
    <div class="card-header">
        <span class="stat-item palette-teal">
            <i class="stat-key">occurrences:</i> @SpanData.ExactPhraseFrequency
        </span>
        <span class="stat-item palette-amber">
            <i class="stat-key">words:</i> @SpanData.WordCount
        </span>
    </div>

    <pre><code>@SpanData.Text</code></pre>

    <div class="context-section">
        <div class="context-title">Before</div>
        <div class="context-pairs">
            @if (SpanData.PrecedingAdjacencies.Any())
            {
                @foreach (var ctx in SpanData.PrecedingAdjacencies)
                {
                    <div class="context-pair before">
                        <span class="context-word">@ctx.Text</span>
                        <span class="context-freq">@ctx.Frequency</span>
                    </div>
                }
            }
            else
            {
                <div class="context-none">— none —</div>
            }
        </div>
    </div>

    <div class="context-section">
        <div class="context-title">After</div>
        <div class="context-pairs">
            @if (SpanData.FollowingAdjacencies.Any())
            {
                @foreach (var ctx in SpanData.FollowingAdjacencies)
                {
                    <div class="context-pair after">
                        <span class="context-word">@ctx.Text</span>
                        <span class="context-freq">@ctx.Frequency</span>
                    </div>
                }
            }
            else
            {
                <div class="context-none">— none —</div>
            }
        </div>
    </div>
</div>

@code {
    [Parameter, EditorRequired]
    public AnalyzedUnmatchedSpan SpanData { get; set; }
}